<!DOCTYPE html>
<html lang="en">
    {% load static %}
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Cart</title>
    <link rel="stylesheet" href="{% static 'css/cart.css' %}">
</head>
<body>        <!-- Spinner Start -->
    <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="sr-only"></span>
        </div>
    </div>
    <!-- Spinner End -->
    
    <nav class="nav-bar">
        <ul>
            <li><a href="{% url 'all_courses' %}"><i class="fa fa-arrow-left"></i> Back</a></li>
        </ul>
    </nav>

    
    <div class="sidebar">
        <a href="{% url 'HomePage' %}" class="logo-link">
            <h2 class="logo-text m-0 text-primary">Competitive Cracker</h2>
        </a>
        <ul>
            <li><a href="#study">Study</a></li>
            <li><a href="#batches">Batches</a></li>
            <li><a href="#store">Store</a></li>
            <li><a href="#see-more">See More</a></li>
        </ul>
    </div>
    <div class="container">
        {% for item in cart_items %}
        <div class="cart-items">
            <div class="course-img">
                <img src="{{ item.course.image.url }}">
            </div>
            <div class="texts">
                <p>{{ item.course.course_name }}</p>
                <p>{{ item.price }}</p>
                <div class="quantity-controls">
                    <button class="minus-btn">-</button>
                    <span class="quantity">{{ item.qty }}</span>
                    <button class="plus-btn">+</button>
                </div>
                <a href="{% url 'remove_from_cart' cart_item_id=item.id %}" class="btn btn-danger remove-btn"><i class="fas fa-trash-alt"></i> Remove</a>
            </div>
        </div>
        {% endfor %}
        <div class="order-details">
        <div class="vertical">
            <div class="apply-coupon">
                <input type="text" placeholder="Enter coupon code">
                <button>Apply Coupon</button>
            </div>
            <div class="payment-summary">
                <div class="bordered-box">
                    <h3>Payment Summary</h3>
                    <div class="details">
                        <div class="row">
                            <div class="name">Products Total({{ item.qty }}):</div>
                            <div class="value">₹ {{ item.price }}</div>
                        </div>
                        <div class="row">
                            <div class="name">Discount:</div>
                            <div class="value">-₹ 0</div>
                        </div>
                        <div class="row">
                            <div class="name">Delivery Charge:</div>
                            <div class="value">-₹ 0</div>
                        </div>
                        <div class="row">
                            <div class="name">Coupon Discount:</div>
                            <div class="value">-₹ 0</div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="name" style="font-weight: bold;">Total Amount:</div>
                            <div class="value" style="font-weight: bold;">₹ {{ total_amount }}</div>                                             
                        </div>
                        <div class="buy">
                            <a href="{% url 'buy_now' %}" class="btn btn-success"><h5>PROCEED TO BUY</h5></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>    
    </div>

             <!-- javascript code here -->
    <script>
        $(document).ready(function() {
            $('.minus-btn').on('click', function() {
                var quantity = parseInt($(this).siblings('.quantity').text());
                if (quantity > 1) {
                    $(this).siblings('.quantity').text(quantity - 1);
                }
            });

            $('.plus-btn').on('click', function() {
                var quantity = parseInt($(this).siblings('.quantity').text());
                $(this).siblings('.quantity').text(quantity + 1);
            });
        });
    </script>
</body>
</html>
<!-- <h1>Your Cart</h1>
    <div class="cart-items">
        {% for item in cart_items %}
            <div class="cart-item">
                <img src="{{ item.course.image.url }}" alt="{{ item.course.course_name }}">
                <p>Name: {{ item.course.course_name }}</p>
                <p>Price: {{ item.price }}</p>
                <p>Quantity: {{ item.qty }}</p>
                <select class="a-native-dropdown a-declarative" id="select1" name="Quantity" autocomplete="off" tabindex="0" data-action="a-dropdown-select">
                    <option value="1" selected="">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                </select>
                <a href="{% url 'remove_from_cart' cart_item_id=item.id %}" class="btn btn-danger">Remove</a>
            </div>
        {% empty %}
            <p>Your cart is empty</p>
        {% endfor %}
    </div>
    <p>Total Amount: {{ total_amount }}</p> -->
